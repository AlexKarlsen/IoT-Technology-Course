\section{Introduction}
This paper is a mandatory mini-project in the Internet of Things Technology course at Aarhus University. The chosen subject is mini-project 10, the weather station. The objective is to build a weather station using a Raspberry Pi equipped with a Sense HAT to obtain environmental sensor data, that should be reported to a backend using a Messages-oriented Middleware (MoM). We have extend the weather station to an environmental monitor capable of measuring environmental data and detection of thresholds. Additionally we added a database for persistence of device state information and acquired sensor telemetry data. \\

Monitoring is an interesting application area within the IoT domain, especially for industries as it can lead to new business opportunities such as Industry 4.0. Industry 4.0 takes automated manufacturing even further and brings autonomy into the game. The huge amount of sensor data collected to monitor systems will ideally be used by computers to detect patterns and let computers act to optimize the process and proactively predict maintenance and failures \cite{gilchrist_2016}. \\

We investigate, along with the aforementioned data acquisition, real-time monitoring and reporting, a low-level version of a digital twin, called a device twin. This digital version of the physical device is used for real-time state information. Device twins are useful in scenarios with sleepy devices or harsh communication environment to provide state consistency. \\

We have implemented the environmental monitor with a Raspberry Pi using relevant technologies taught in the course. This includes Message Queue Telemetry Transfer (MQTT) protocol and Representational State Transfer (REST) API. Additionally a NoSQL database is used to implement the device twin and a web application has been developed for end-users, to be able to monitor the environment. \\

The rest of the paper is structured as follows; Section \ref{sec:theory} Theory describes the main theories used to implement the environmental monitor; Digital Twin, MQTT protocol, REST architecture and Server-Sent Event (SSE). Section \ref{sec:architecture} describes the architecture and justifies relevant architectural choices. Section \ref{sec:impl} explains the implementation and the design choices made to obtain the solution. Section \ref{sec:discussion} discusses the design, design alternatives and future work. Section \ref{sec:conclusion} concludes upon the mini-project.


